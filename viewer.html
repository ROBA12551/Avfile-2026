<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>File Preview - Avfile Clone</title>
    <link rel="stylesheet" href="/css/viewer.css" />
  </head>
  <body class="viewer-page">
    <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <nav class="navbar">
      <div class="navbar-container">
        <a href="/" class="navbar-logo">
          <svg class="logo-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
          </svg>
          <span class="logo-text">Avfile</span>
        </a>
      </div>
    </nav>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <main class="viewer-container">
      <!-- æº–å‚™ä¸­ç”»é¢ -->
      <div id="preparingArea" class="preparing-area">
        <div class="preparing-content">
          <div class="spinner"></div>
          <h2>Loading file...</h2>
          <p>Please wait while we prepare your file</p>
          <div class="progress-bar">
            <div id="preparingProgress" class="progress-fill"></div>
          </div>
        </div>
      </div>

      <!-- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
      <div id="contentArea" class="content-area" style="display: none">
        <!-- å‹•ç”»ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ -->
        <div class="player-section">
          <div class="video-wrapper">
            <video
              id="videoPlayer"
              class="video-player"
              controls
              controlsList="nodownload"
              poster="/img/poster.jpg"
            >
              <source id="videoSource" src="" type="video/mp4" />
              Your browser does not support the video tag.
            </video>
          </div>

          <!-- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« -->
          <div class="player-controls">
            <div class="control-buttons">
              <button id="playBtn" class="control-btn play-btn" title="Play/Pause">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M8 5v14l11-7z" />
                </svg>
              </button>
              <button id="downloadBtn" class="control-btn download-btn" title="Download">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                </svg>
              </button>
            </div>
          </div>
        </div>

        <!-- ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ± -->
        <div class="file-info">
          <div class="info-header">
            <div class="file-icon">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
              </svg>
            </div>
            <div class="file-details">
              <h1 id="fileName">Loading...</h1>
              <div class="file-meta">
                <span id="fileSize" class="meta-item">
                  <strong>Size:</strong> --
                </span>
                <span id="uploadTime" class="meta-item">
                  <strong>Uploaded:</strong> --
                </span>
              </div>
            </div>
          </div>

          <!-- å…±æœ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
          <div class="share-section">
            <h3>Share This File</h3>
            <div class="share-url">
              <input id="shareUrl" type="text" readonly class="url-input" />
              <button id="copyBtn" class="btn-copy">Copy Link</button>
            </div>

            <div class="share-buttons">
              <button class="share-btn twitter" id="shareTwitter">
                <span>Share on Twitter</span>
              </button>
              <button class="share-btn line" id="shareLINE">
                <span>Share on LINE</span>
              </button>
              <button class="share-btn email" id="shareEmail">
                <span>Share via Email</span>
              </button>
            </div>
          </div>

          <!-- é€šå ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
          <div class="report-section">
            <button id="reportBtn" class="btn-report">ðŸš¨ Report This File</button>
            <small>Is this content inappropriate or violating copyright? Let us know.</small>
          </div>
        </div>

        <!-- æ³•çš„é€šçŸ¥ -->
        <div class="legal-notice">
          <div class="notice-header">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" />
            </svg>
            <span>Legal Notice</span>
          </div>
          <p>
            This file is not automatically deleted. However, it may be removed if:
          </p>
          <ul>
            <li>A copyright holder files a DMCA takedown notice</li>
            <li>The content is reported as illegal or violating our terms</li>
            <li>The file violates our <a href="/policy.html">Terms of Service</a></li>
          </ul>
        </div>
      </div>

      <!-- ã‚¨ãƒ©ãƒ¼è¡¨ç¤º -->
      <div id="errorArea" class="error-area" style="display: none">
        <div class="error-content">
          <div class="error-icon">âœ•</div>
          <h2>File Not Found</h2>
          <p id="errorMessage" class="error-message">
            The file you are looking for does not exist or has been removed.
          </p>
          <a href="/" class="btn btn-primary">Back to Home</a>
        </div>
      </div>
    </main>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer class="footer">
      <div class="footer-links">
        <a href="/">Home</a>
        <a href="/policy.html">Terms of Service</a>
        <a href="/policy.html#privacy">Privacy Policy</a>
        <a href="/">Contact</a>
      </div>
      <p class="footer-text">Â© 2025 Avfile Clone. All rights reserved.</p>
    </footer>

    <!-- ãƒ¢ãƒ¼ãƒ€ãƒ«: é€šå ±ãƒ•ã‚©ãƒ¼ãƒ  -->
    <div id="reportModal" class="report-modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Report This File</h3>
          <button id="closeReport" class="modal-close">&times;</button>
        </div>

        <div class="modal-body">
          <p class="warning">
            Please only report content that violates our terms of service or applicable laws.
          </p>

          <form id="reportForm">
            <div class="form-group">
              <label for="reportReason">Report Reason *</label>
              <select id="reportReason" required>
                <option value="">-- Select a reason --</option>
                <option value="copyright">Copyright Infringement</option>
                <option value="illegal">Illegal Content</option>
                <option value="harassment">Harassment or Threats</option>
                <option value="privacy">Privacy Violation</option>
                <option value="malware">Malware or Virus</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div class="form-group">
              <label for="reportDetails">Additional Details (Optional)</label>
              <textarea
                id="reportDetails"
                placeholder="Please provide details..."
                maxlength="500"
                rows="4"
              ></textarea>
              <small id="charCount">0/500</small>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary">Submit Report</button>
              <button type="button" id="cancelReport" class="btn btn-secondary">
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
    <script src="/js/storage.js"></script>
    <script src="/js/github-api-netlify.js"></script>
    <script src="/js/viewer.js"></script>
  </body>
</html>